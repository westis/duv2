# Task ID: 7
# Title: Develop API Helper Functions
# Status: pending
# Dependencies: 6
# Priority: high
# Description: Create a PHP helper file with common functions for database connection, API key validation, and JSON output.
# Details:
Create a file named 'helpers.php' in the /api/v1/ directory with the following functions:
```php
<?php
function connectToDatabase() {
  return new mysqli('localhost','user','pass','duv');
}

function validateApiKey($db, $required = true) {
  $key = $_SERVER['HTTP_X_API_KEY'] ?? '';
  if (!$key && !$required) return true;

  $stmt = $db->prepare(
    'SELECT user_id FROM api_keys WHERE `key`=? AND active=1'
  );
  $stmt->bind_param('s', $key);
  $stmt->execute();
  if ($stmt->get_result()->num_rows === 0) {
    if ($required) {
      http_response_code(401);
      echo json_encode(['error'=>'Invalid API key']);
      exit;
    }
    return false;
  }
  return $stmt->get_result()->fetch_assoc()['user_id'];
}

function outputJson($data) {
  header('Content-Type: application/json');
  echo json_encode($data);
  exit;
}
```
Update database credentials as needed for the specific environment.

# Test Strategy:
Test each function individually with unit tests. Verify database connection works, API key validation correctly handles valid and invalid keys, and JSON output properly formats and returns data.
